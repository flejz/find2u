{"version":3,"sources":["../../../src/services/express/index.js"],"names":["routes","app","use","urlencoded","extended","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;kBAEe,UAACA,MAAD,EAAY;AACzB,MAAMC,MAAM,wBAAZ;;AAEA;AACA,MAAI,gBAAQ,YAAR,IAAwB,gBAAQ,aAApC,EAAmD;AACjDA,QAAIC,GAAJ,CAAQ,qBAAR;AACAD,QAAIC,GAAJ,CAAQ,4BAAR;AACAD,QAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACD;;AAEDD,MAAIC,GAAJ,CAAQ,qBAAWC,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAH,MAAIC,GAAJ,CAAQ,qBAAWG,IAAX,EAAR;AACAJ,MAAIC,GAAJ,CAAQF,MAAR;AACAC,MAAIC,GAAJ,CAAQ,6BAAR;AACAD,MAAIC,GAAJ,CAAQ,4BAAR;;AAEA,SAAOD,GAAP;AACD,C","file":"index.js","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport compression from 'compression'\nimport morgan from 'morgan'\nimport bodyParser from 'body-parser'\nimport { errorHandler as queryErrorHandler } from 'querymen'\nimport { errorHandler as bodyErrorHandler } from 'bodymen'\nimport { env } from '../../config'\n\nexport default (routes) => {\n  const app = express()\n\n  /* istanbul ignore next */\n  if (env === 'production' || env === 'development') {\n    app.use(cors())\n    app.use(compression())\n    app.use(morgan('dev'))\n  }\n\n  app.use(bodyParser.urlencoded({ extended: false }))\n  app.use(bodyParser.json())\n  app.use(routes)\n  app.use(queryErrorHandler())\n  app.use(bodyErrorHandler())\n\n  return app\n}\n"]}