{"version":3,"sources":["../../../src/api/characteristics/controller.js"],"names":["create","res","next","user","disappeared","body","bodymen","then","characteristics","view","catch","index","querymen","query","select","cursor","find","populate","map","destroy","params","findById","id","remove"],"mappings":";;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AAEO,IAAMA,0BAAS,SAATA,MAAS,OAA2CC,GAA3C,EAAgDC,IAAhD;AAAA,MAAGC,IAAH,QAAGA,IAAH;AAAA,MAASC,WAAT,QAASA,WAAT;AAAA,MAAiCC,IAAjC,QAAsBC,OAAtB,CAAiCD,IAAjC;AAAA,SACpB,mBAAgBL,MAAhB,4BAA4BK,IAA5B,IAAkCF,UAAlC,EAAwCC,wBAAxC,KACGG,IADH,CACQ,UAACC,eAAD;AAAA,WAAqBA,gBAAgBC,IAAhB,CAAqB,IAArB,CAArB;AAAA,GADR,EAEGF,IAFH,CAEQ,uBAAQN,GAAR,EAAa,GAAb,CAFR,EAGGS,KAHH,CAGSR,IAHT,CADoB;AAAA,CAAf;;AAMA,IAAMS,wBAAQ,SAARA,KAAQ,QAA0CV,GAA1C,EAA+CC,IAA/C;AAAA,6BAAGU,QAAH;AAAA,MAAeC,KAAf,kBAAeA,KAAf;AAAA,MAAsBC,MAAtB,kBAAsBA,MAAtB;AAAA,MAA8BC,MAA9B,kBAA8BA,MAA9B;AAAA,SACnB,mBAAgBC,IAAhB,CAAqBH,KAArB,EAA4BC,MAA5B,EAAoCC,MAApC,EACGE,QADH,CACY,MADZ,EAEGA,QAFH,CAEY,aAFZ,EAGGV,IAHH,CAGQ,UAACC,eAAD;AAAA,WAAqBA,gBAAgBU,GAAhB,CAAoB,UAACV,eAAD;AAAA,aAAqBA,gBAAgBC,IAAhB,EAArB;AAAA,KAApB,CAArB;AAAA,GAHR,EAIGF,IAJH,CAIQ,uBAAQN,GAAR,CAJR,EAKGS,KALH,CAKSR,IALT,CADmB;AAAA,CAAd;;AAQA,IAAMiB,4BAAU,SAAVA,OAAU,QAAmBlB,GAAnB,EAAwBC,IAAxB;AAAA,MAAGC,IAAH,SAAGA,IAAH;AAAA,MAASiB,MAAT,SAASA,MAAT;AAAA,SACrB,mBAAgBC,QAAhB,CAAyBD,OAAOE,EAAhC,EACGf,IADH,CACQ,wBAASN,GAAT,CADR,EAEGM,IAFH,CAEQ,6BAAcN,GAAd,EAAmBE,IAAnB,EAAyB,MAAzB,CAFR,EAGGI,IAHH,CAGQ,UAACC,eAAD;AAAA,WAAqBA,kBAAkBA,gBAAgBe,MAAhB,EAAlB,GAA6C,IAAlE;AAAA,GAHR,EAIGhB,IAJH,CAIQ,uBAAQN,GAAR,EAAa,GAAb,CAJR,EAKGS,KALH,CAKSR,IALT,CADqB;AAAA,CAAhB","file":"controller.js","sourcesContent":["import _ from 'lodash'\nimport { success, notFound, authorOrAdmin } from '../../services/response/'\nimport { Characteristics } from '.'\n\nexport const create = ({ user, disappeared, bodymen: { body } }, res, next) =>\n  Characteristics.create({ ...body, user, disappeared })\n    .then((characteristics) => characteristics.view(true))\n    .then(success(res, 201))\n    .catch(next)\n\nexport const index = ({ querymen: { query, select, cursor } }, res, next) =>\n  Characteristics.find(query, select, cursor)\n    .populate('user')\n    .populate('disappeared')\n    .then((characteristics) => characteristics.map((characteristics) => characteristics.view()))\n    .then(success(res))\n    .catch(next)\n\nexport const destroy = ({ user, params }, res, next) =>\n  Characteristics.findById(params.id)\n    .then(notFound(res))\n    .then(authorOrAdmin(res, user, 'user'))\n    .then((characteristics) => characteristics ? characteristics.remove() : null)\n    .then(success(res, 204))\n    .catch(next)\n"]}