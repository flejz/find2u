{"version":3,"sources":["../../../src/api/disappeared/model.js"],"names":["disappearedSchema","user","type","ObjectId","ref","required","name","String","bornAt","Date","obs","policeDocument","status","timestamps","methods","view","full","id","createdAt","updatedAt","model","schema"],"mappings":";;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,oBAAoB,qBAAW;AACnCC,QAAM;AACJC,UAAM,iBAAOC,QADT;AAEJC,SAAK,MAFD;AAGJC,cAAU;AAHN,GAD6B;AAMnCC,QAAM;AACJJ,UAAMK,MADF;AAEJF,cAAU;AAFN,GAN6B;AAUnCG,UAAQ;AACNN,UAAMO,IADA;AAENJ,cAAU;AAFJ,GAV2B;AAcnCK,OAAK;AACHR,UAAMK;AADH,GAd8B;AAiBnCI,kBAAgB;AACdT,UAAMK;AADQ,GAjBmB;AAoBnCK,UAAQ;AACNV,UAAMK,MADA;AAENF,cAAU;AAFJ;AApB2B,CAAX,EAwBvB;AACDQ,cAAY;AADX,CAxBuB,CAA1B;;AA4BAb,kBAAkBc,OAAlB,GAA4B;AAC1BC,MAD0B,gBACpBC,IADoB,EACd;AACV,QAAMD,OAAO;AACX;AACAE,UAAI,KAAKA,EAFE;AAGXhB,YAAM,KAAKA,IAAL,CAAUc,IAAV,CAAeC,IAAf,CAHK;AAIXV,YAAM,KAAKA,IAJA;AAKXE,cAAQ,KAAKA,MALF;AAMXE,WAAK,KAAKA,GANC;AAOXC,sBAAgB,KAAKA,cAPV;AAQXC,cAAQ,KAAKA,MARF;AASXM,iBAAW,KAAKA,SATL;AAUXC,iBAAW,KAAKA;AAVL,KAAb;;AAaA,WAAOH,kCACFD,IADE,IAGHA,IAHJ;AAID;AAnByB,CAA5B;;AAsBA,IAAMK,QAAQ,mBAASA,KAAT,CAAe,aAAf,EAA8BpB,iBAA9B,CAAd;;AAEO,IAAMqB,0BAASD,MAAMC,MAArB;kBACQD,K","file":"model.js","sourcesContent":["import mongoose, { Schema } from 'mongoose'\n\nconst disappearedSchema = new Schema({\n  user: {\n    type: Schema.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  bornAt: {\n    type: Date,\n    required: true\n  },\n  obs: {\n    type: String\n  },\n  policeDocument: {\n    type: String\n  },\n  status: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n})\n\ndisappearedSchema.methods = {\n  view (full) {\n    const view = {\n      // simple view\n      id: this.id,\n      user: this.user.view(full),\n      name: this.name,\n      bornAt: this.bornAt,\n      obs: this.obs,\n      policeDocument: this.policeDocument,\n      status: this.status,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt\n    }\n\n    return full ? {\n      ...view\n      // add properties for a full view\n    } : view\n  }\n}\n\nconst model = mongoose.model('Disappeared', disappearedSchema)\n\nexport const schema = model.schema\nexport default model\n"]}