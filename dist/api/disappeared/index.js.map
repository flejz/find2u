{"version":3,"sources":["../../../src/api/disappeared/index.js"],"names":["schema","Disappeared","router","tree","name","bornAt","obs","policeDocument","status","post","required","get","put","delete"],"mappings":";;;;;;;AAKA;;;;;kBACsBA,M;;;;AANtB;;AACA;;AACA;;AACA;;AACA;;;;;;QAEOC,W;;;AAEP,IAAMC,SAAS,qBAAf;mBACsD,cAAOC,I;IAArDC,I,gBAAAA,I;IAAMC,M,gBAAAA,M;IAAQC,G,gBAAAA,G;IAAKC,c,gBAAAA,c;IAAgBC,M,gBAAAA,M;;AAE3C;;;;;;;;;;;;;;;;AAeAN,OAAOO,IAAP,CAAY,GAAZ,EACE,qBAAM,EAAEC,UAAU,IAAZ,EAAN,CADF,EAEE,yBAAK,EAAEN,UAAF,EAAQC,cAAR,EAAgBC,QAAhB,EAAqBC,8BAArB,EAAqCC,cAArC,EAAL,CAFF;;AAKA;;;;;;;;AAQAN,OAAOS,GAAP,CAAW,GAAX,EACE,2BADF;;AAIA;;;;;;;;AAQAT,OAAOS,GAAP,CAAW,MAAX;;AAGA;;;;;;;;;;;;;;;AAeAT,OAAOU,GAAP,CAAW,MAAX,EACE,qBAAM,EAAEF,UAAU,IAAZ,EAAN,CADF,EAEE,yBAAK,EAAEN,UAAF,EAAQC,cAAR,EAAgBC,QAAhB,EAAqBC,8BAArB,EAAqCC,cAArC,EAAL,CAFF;;AAKA;;;;;;;;;;AAUAN,OAAOW,MAAP,CAAc,MAAd,EACE,qBAAM,EAAEH,UAAU,IAAZ,EAAN,CADF;;kBAIeR,M","file":"index.js","sourcesContent":["import { Router } from 'express'\nimport { middleware as query } from 'querymen'\nimport { middleware as body } from 'bodymen'\nimport { token } from '../../services/passport'\nimport { create, index, show, update, destroy } from './controller'\nimport { schema } from './model'\nexport Disappeared, { schema } from './model'\n\nconst router = new Router()\nconst { name, bornAt, obs, policeDocument, status } = schema.tree\n\n/**\n * @api {post} /disappeareds Create disappeared\n * @apiName CreateDisappeared\n * @apiGroup Disappeared\n * @apiPermission user\n * @apiParam {String} token user access token.\n * @apiParam name Disappeared's name.\n * @apiParam bornAt Disappeared's bornAt.\n * @apiParam obs Disappeared's obs.\n * @apiParam status Disappeared's status.\n * @apiSuccess {Object} disappeared Disappeared's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Disappeared not found.\n * @apiError 401 user access only.\n */\nrouter.post('/',\n  token({ required: true }),\n  body({ name, bornAt, obs, policeDocument, status }),\n  create)\n\n/**\n * @api {get} /disappeareds Retrieve disappeareds\n * @apiName RetrieveDisappeareds\n * @apiGroup Disappeared\n * @apiUse listParams\n * @apiSuccess {Object[]} disappeareds List of disappeareds.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get('/',\n  query(),\n  index)\n\n/**\n * @api {get} /disappeareds/:id Retrieve disappeared\n * @apiName RetrieveDisappeared\n * @apiGroup Disappeared\n * @apiSuccess {Object} disappeared Disappeared's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Disappeared not found.\n */\nrouter.get('/:id',\n  show)\n\n/**\n * @api {put} /disappeareds/:id Update disappeared\n * @apiName UpdateDisappeared\n * @apiGroup Disappeared\n * @apiPermission user\n * @apiParam {String} token user access token.\n * @apiParam name Disappeared's name.\n * @apiParam bornAt Disappeared's bornAt.\n * @apiParam obs Disappeared's obs.\n * @apiParam status Disappeared's status.\n * @apiSuccess {Object} disappeared Disappeared's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Disappeared not found.\n * @apiError 401 user access only.\n */\nrouter.put('/:id',\n  token({ required: true }),\n  body({ name, bornAt, obs, policeDocument, status }),\n  update)\n\n/**\n * @api {delete} /disappeareds/:id Delete disappeared\n * @apiName DeleteDisappeared\n * @apiGroup Disappeared\n * @apiPermission user\n * @apiParam {String} token user access token.\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Disappeared not found.\n * @apiError 401 user access only.\n */\nrouter.delete('/:id',\n  token({ required: true }),\n  destroy)\n\nexport default router\n"]}