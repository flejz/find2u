{"version":3,"sources":["../../../src/api/disappeared/index.js"],"names":["schema","Disappeared","router","tree","name","birth_date","disappearance_date","mobile_contact","post","required","get","put","delete"],"mappings":";;;;;;;AAKA;;;;;kBACsBA,M;;;;AANtB;;AACA;;AACA;;AACA;;AACA;;;;;;QAEOC,W;;;AAEP,IAAMC,SAAS,qBAAf;mBACiE,cAAOC,I;IAAhEC,I,gBAAAA,I;IAAMC,U,gBAAAA,U;IAAYC,kB,gBAAAA,kB;IAAoBC,c,gBAAAA,c;;AAE9C;;;;;;;;;;;;;;;;AAeAL,OAAOM,IAAP,CAAY,GAAZ,EACE,qBAAM,EAAEC,UAAU,IAAZ,EAAN,CADF,EAEE,yBAAK,EAAEL,UAAF,EAAQC,sBAAR,EAAoBC,sCAApB,EAAwCC,8BAAxC,EAAL,CAFF;;AAKA;;;;;;;;AAQAL,OAAOQ,GAAP,CAAW,GAAX,EACE,2BADF;;AAIA;;;;;;;;AAQAR,OAAOQ,GAAP,CAAW,MAAX;;AAGA;;;;;;;;;;;;;;;AAeAR,OAAOS,GAAP,CAAW,MAAX,EACE,qBAAM,EAAEF,UAAU,IAAZ,EAAN,CADF,EAEE,yBAAK,EAAEL,UAAF,EAAQC,sBAAR,EAAoBC,sCAApB,EAAwCC,8BAAxC,EAAL,CAFF;;AAKA;;;;;;;;;;AAUAL,OAAOU,MAAP,CAAc,MAAd,EACE,qBAAM,EAAEH,UAAU,IAAZ,EAAN,CADF;;kBAIeP,M","file":"index.js","sourcesContent":["import { Router } from 'express'\nimport { middleware as query } from 'querymen'\nimport { middleware as body } from 'bodymen'\nimport { token } from '../../services/passport'\nimport { create, index, show, update, destroy } from './controller'\nimport { schema } from './model'\nexport Disappeared, { schema } from './model'\n\nconst router = new Router()\nconst { name, birth_date, disappearance_date, mobile_contact } = schema.tree\n\n/**\n * @api {post} /disappeareds Create disappeared\n * @apiName CreateDisappeared\n * @apiGroup Disappeared\n * @apiPermission user\n * @apiParam {String} access_token user access token.\n * @apiParam name Disappeared's name.\n * @apiParam birth_date Disappeared's birth_date.\n * @apiParam disappearance_date Disappeared's disappearance_date.\n * @apiParam mobile_contact Disappeared's mobile_contact.\n * @apiSuccess {Object} disappeared Disappeared's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Disappeared not found.\n * @apiError 401 user access only.\n */\nrouter.post('/',\n  token({ required: true }),\n  body({ name, birth_date, disappearance_date, mobile_contact }),\n  create)\n\n/**\n * @api {get} /disappeareds Retrieve disappeareds\n * @apiName RetrieveDisappeareds\n * @apiGroup Disappeared\n * @apiUse listParams\n * @apiSuccess {Object[]} disappeareds List of disappeareds.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get('/',\n  query(),\n  index)\n\n/**\n * @api {get} /disappeareds/:id Retrieve disappeared\n * @apiName RetrieveDisappeared\n * @apiGroup Disappeared\n * @apiSuccess {Object} disappeared Disappeared's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Disappeared not found.\n */\nrouter.get('/:id',\n  show)\n\n/**\n * @api {put} /disappeareds/:id Update disappeared\n * @apiName UpdateDisappeared\n * @apiGroup Disappeared\n * @apiPermission user\n * @apiParam {String} access_token user access token.\n * @apiParam name Disappeared's name.\n * @apiParam birth_date Disappeared's birth_date.\n * @apiParam disappearance_date Disappeared's disappearance_date.\n * @apiParam mobile_contact Disappeared's mobile_contact.\n * @apiSuccess {Object} disappeared Disappeared's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Disappeared not found.\n * @apiError 401 user access only.\n */\nrouter.put('/:id',\n  token({ required: true }),\n  body({ name, birth_date, disappearance_date, mobile_contact }),\n  update)\n\n/**\n * @api {delete} /disappeareds/:id Delete disappeared\n * @apiName DeleteDisappeared\n * @apiGroup Disappeared\n * @apiPermission user\n * @apiParam {String} access_token user access token.\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Disappeared not found.\n * @apiError 401 user access only.\n */\nrouter.delete('/:id',\n  token({ required: true }),\n  destroy)\n\nexport default router\n"]}